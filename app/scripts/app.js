"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Ready to work offline...",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New update: refresh the page."),throw_error("There is a new update available")):console.log("Content cached for offline use."))})})}).catch(e=>{console.log("Failed to register app: ",e)})});